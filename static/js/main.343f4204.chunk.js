(this.webpackJsonphuoguo=this.webpackJsonphuoguo||[]).push([[0],{16:function(e,t,a){e.exports={loading_text:"Loading_loading_text__27KSc",stroke:"Loading_stroke__3__pJ"}},25:function(e,t,a){e.exports=a.p+"static/media/not_found.f7113d52.svg"},27:function(e,t,a){e.exports=a(51)},32:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),i=a.n(c),l=(a(32),a(3)),o=a(1),s=a(2),d=a(26),m={a:["a","\u0101","\xe1","\u01ce","\xe0","a"],e:["e","\u0113","\xe9","\u011b","\xe8","e"],i:["i","\u012b","\xed","\u01d0","\xec","i"],o:["o","\u014d","\xf3","\u01d2","\xf2","o"],u:["u","\u016b","\xfa","\u01d4","\xf9","u"],v:["\xfc","\u01d6","\u01d8","\u01da","\u01dc","\xfc"]},u=function(e){return/^[A-Za-z]$/.test(e)},f=function(e,t,a){return t>=0&&t<e.length&&"string"===typeof a?e.substring(0,t)+a+e.substring(t+1):e},h=function(e){var t,a=(e=e.toLocaleLowerCase()).search(/[1-5]/),n=e.search(/[aeiouv\u00fc]/);if(e.length>7||a<1||a!==e.length-1||n<0)return console.log("String.prototype.convertPinyin:"+e+" is not a valid pinyin word."),e;var r=parseInt(e[a]);if(/[ae]/.test(e))t=e.search(/[ae]/),e=f(e,t,m[e.charAt(t)][r]);else if(/ou/.test(e))t=e.search(/ou/),e=f(e,t,m[e.charAt(t)][r]);else{t=function(e,t){for(var a=-1,n=0;n<e.length;n++)t.test(e.charAt(n))&&(a=n);return a}(e,/[aeiouv\u00fc]/);var c=e.charAt(t);"\xfc"===c&&(c="v"),e=f(e,t,m[c][r])}return e=e.substring(0,e.length-1)},p=function(e){if("string"!==typeof e)return e;if(!e||[","].includes(e))return"\xa0";e=(e=e.toLowerCase()).replace("u:","\xfc");for(var t="",a=0;e.length>0;){var n=e.charAt(a);if(u(n)){0!==a&&(t+=e.substring(0,a),e=e.substring(a),a=0);var r=e.search(/[1-5]/),c=e.search(/\s/);r>0&&r<7&&(c<0||c>r)?(t+=h(e.substring(0,r+1)),e=e.substring(r+1)):c<0?(t+=e.substring(0),e=""):(t+=e.substring(0,c+1),e=e.substring(c+1))}else a>=e.length?(t+=e.substring(0),e=""):a++}return t},b=function(e){return e.reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[])},g=function(e){return Object(d.a)(e).length};var v=Object(n.createContext)(null),E=function(e){var t=e.children,a=Object(n.useState)("light"),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(n.useState)(!1),d=Object(s.a)(o,2),m=d[0],u=d[1],f=function(e){window.localStorage.setItem("theme",e),l(e)};return Object(n.useEffect)((function(){var e=window.localStorage.getItem("theme");window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&!e?f("dark"):e?l(e):f("light"),u(!0)}),[]),"dark"===i?document.documentElement.classList.add("mode-dark"):document.documentElement.classList.remove("mode-dark"),r.a.createElement(v.Provider,{value:[i,function(){f("light"===i?"dark":"light")},m]},t)},w=function(){return Object(n.useContext)(v)},x="transition duration-300 ease-in-out hover-red",y=("text-".concat("black"," dark:text-").concat("gray-200"),"text-".concat("gray-700"," dark:text-").concat("gray-500")),N="border-black dark:border-gray-500",k="border-gray-500 dark:border-gray-700",j=a(13),O=function(){var e=w(),t=Object(s.a)(e,3),a=t[0],c=t[1],i=(t[2],Object(o.f)()),d=Object(n.useState)(""),m=Object(s.a)(d,2),u=m[0],f=m[1],h=Object(n.useState)([]),b=Object(s.a)(h,2),g=b[0],v=b[1],E=Object(n.useRef)(j.debounce((function(e){e.replace(/\s/g,"").length?fetch("https://huoguo-search.kevinhu.io/.netlify/functions/search?query=".concat(e)).then((function(e){return e.json()})).then((function(e){v(e)})):v([])}),160)).current;"".concat("w-full md:w-2/3 xl:w-1/2 absolute mx-auto text-center py-12"," ").concat("border-2 bg-white dark:bg-gray-800"," ").concat(N);return r.a.createElement("div",{className:"w-full md:w-3/4 flex mx-auto bg-white dark:bg-gray-800 border-2 ".concat(N),style:{marginTop:"-2px"}},r.a.createElement(l.b,{to:"/",className:"english-serif px-6 py-2 red text-2xl border-r-2 ".concat(k)},"huoguo"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.push("/word?word=".concat(u))},className:"chinese-serif px-6 bg-transparent outline-none w-full"},r.a.createElement("div",{className:"w-full h-full relative"},r.a.createElement("input",{className:"chinese-serif bg-transparent outline-none w-full h-full",type:"text",placeholder:"Search 118639 words",value:u,onChange:function(e){e.persist(),f(e.target.value),E(e.target.value)}}),g.length>0&&""!==u&&r.a.createElement("div",{className:"absolute text-left bg-white dark:bg-gray-800 border-2 border-black w-full ".concat(k)},g.map((function(e,t){return r.a.createElement(l.b,{to:"/word/".concat(e.simplified),className:x,key:t},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"p-2 text-xl font-semibold"},e.simplified),r.a.createElement("div",null,r.a.createElement("div",{className:"font-semibold"},p(e.pinyin)),r.a.createElement("div",{className:"text-gray-700 dark:text-gray-300"},e.definition))))}))))),r.a.createElement("div",{onClick:c,checked:"dark"===a,className:"chinese-serif py-2 text-2xl px-2 cursor-pointer select-none border-l-2 ".concat(k)},"dark"===a?"\u6697":"\u5149"))},S=a(13),C=a.n(S),_=function(){var e=w(),t=Object(s.a)(e,3),a=t[0],c=t[1],i=(t[2],Object(o.f)()),d=Object(n.useState)(""),m=Object(s.a)(d,2),u=m[0],f=m[1],h=Object(n.useState)([]),b=Object(s.a)(h,2),g=b[0],v=b[1],E=Object(n.useState)(!1),y=Object(s.a)(E,2),j=y[0],O=y[1],S=Object(n.useRef)(C.a.debounce((function(e){e.replace(/\s/g,"").length?fetch("https://huoguo-search.kevinhu.io/.netlify/functions/search?query=".concat(e)).then((function(e){return e.json()})).then((function(e){v(e)})):v([])}),160)).current,_="".concat("w-full md:w-2/3 xl:w-1/2 absolute mx-auto text-center py-12"," ").concat("border-2 bg-white dark:bg-gray-800"," ").concat(N),z=Object(n.useRef)();Object(n.useEffect)((function(){return document.addEventListener("mousedown",A),function(){document.removeEventListener("mousedown",A)}}),[]);var L,A=function(e){z.current.contains(e.target)||O(!1)};return r.a.createElement("div",null,r.a.createElement("div",{onClick:c,checked:"dark"===a,className:"chinese-serif py-2 text-2xl px-4 mx-auto cursor-pointer select-none border-2 border-black bg-white dark:border-2 dark:border-gray-700 dark:bg-gray-800",style:{width:"max-content",marginTop:"-2px"}},"dark"===a?"\u6697":"\u5149"),r.a.createElement("div",{className:_,style:{top:"40%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("div",{className:"english-serif red font-semibold",style:{fontSize:"4rem",lineHeight:"4rem"}},"huoguo"),r.a.createElement("div",{className:"english-serif text-xl text-gray-600 pt-4 pb-8"},"A modern Chinese-English dictionary"),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i.push("/word/".concat(u))},className:"chinese-serif px-12 bg-transparent outline-none w-full"},r.a.createElement("div",{className:"w-full relative",ref:z},r.a.createElement("input",{className:"text-lg chinese-serif p-2 outline-none w-full bg-transparent border-solid border-2 ".concat(k),type:"text",placeholder:"Search ".concat((L=118639,L.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))," words"),value:u,onChange:function(e){e.persist(),f(e.target.value),S(e.target.value)},onFocus:function(){return O(!0)},onClick:function(){}}),g.length>0&&""!==u&&j&&r.a.createElement("div",{className:"z-10 absolute text-left bg-white dark:bg-gray-800 border-2 border-black w-full ".concat(k),style:{marginTop:"-4px"}},g.map((function(e,t){return r.a.createElement(l.b,{to:"/word/".concat(e.simplified),className:x,key:t},r.a.createElement("div",{className:"p-2 border-b-2 border-gray-300 dark:border-gray-700"},r.a.createElement("div",{className:"font-semibold"},r.a.createElement("div",{className:"text-xl inline"},e.simplified),r.a.createElement("div",{className:"pl-2 inline text-gray-700 dark:text-gray-300"},p(e.pinyin))),r.a.createElement("div",{className:"text-gray-700 dark:text-gray-300"},e.definition)))}))))))),r.a.createElement("div",{className:"text-center w-full absolute bottom-0 text-gray-800 dark:text-gray-200",style:{zIndex:-1}},"Made by"," ",r.a.createElement("a",{className:"underline ".concat(x),href:"https://kevinhu.io",target:"_blank",rel:"noopener noreferrer"},"Kevin Hu"),r.a.createElement("br",null),r.a.createElement("a",{className:"underline ".concat(x),href:"https://github.com/kevinhu/huoguo",target:"_blank",rel:"noopener noreferrer"},"Source")," ","on GitHub"))};var z=function(){return r.a.createElement("div",null,"404!")},L=function(e){var t=e.character,a=e.pinyin,n=e.characterSize,c=e.pinyinSize,i=e.className,l=e.pinyinClass,o=e.characterClass;return r.a.createElement("div",{className:i,style:{width:"max-content"}},r.a.createElement("div",{className:"font-semibold english-serif select-none text-center ".concat(l||""),style:{fontSize:c}},a),r.a.createElement("div",{className:"chinese-serif ".concat(o||""),style:{fontSize:n,lineHeight:n}},t))},A=a(23),W=a.n(A),H=a(24),T=a(16),I=a.n(T);var B=function(){return r.a.createElement("div",null,r.a.createElement("svg",{viewBox:"0 0 600 300",className:"loading-svg text-4xl text-black stroke-current dark:text-white"},r.a.createElement("text",{className:I.a.loading_text,textAnchor:"middle",x:"50%",y:"50%",dy:".35em"},"\u6b63\u5728\u52a0\u8f7d..."),r.a.createElement("text",{className:I.a.loading_text,textAnchor:"middle",x:"50%",y:"50%",dy:".35em"},"\u6b63\u5728\u52a0\u8f7d...")))},D=a(25),M=a.n(D),P=["\u2ff0","\u2ff1","\u2ff2","\u2ff3","\u2ff4","\u2ff5","\u2ff6","\u2ff7","\u2ff8","\u2ff9","\u2ffa","\u2ffb"],q=function(){var e,t=Object(n.useState)(0),a=Object(s.a)(t,2),c=a[0],i=a[1],d=Object(o.f)(),m=Object(o.g)(),u=Object(o.h)(),f=W.a.parse(m.search).mode,h=u.word;"simplified"!==f&&"traditional"!==f&&(f="simplified",d.push("/word/".concat(h,"/?mode=").concat(f))),e="simplified"===f?"traditional":"simplified";var v=Object(o.g)().pathname;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[v]);var E=Object(n.useState)(),w=Object(s.a)(E,2),j=w[0],O=w[1],S=Object(n.useState)(),C=Object(s.a)(S,2),_=C[0],z=C[1],A=Object(n.useState)(),T=Object(s.a)(A,2),I=T[0],D=T[1],q=Object(n.useState)(!1),J=Object(s.a)(q,2),R=J[0],F=J[1];Object(n.useEffect)((function(){h&&f&&!R&&(h===j&&f===_||(F(!0),i(0),fetch("https://raw.githubusercontent.com/kevinhu/dictionary-files/master/".concat(f,"/").concat(h,".json")).then((function(e){return i(50),404===e.status?(i(100),O(h),z(f),D(void 0),void F(!1)):e.json()})).then((function(e){i(100),O(h),z(f),D(e),F(!1),console.log(e)}))))}));var K="text-xl font-semibold ".concat(y);if(!I)return R?r.a.createElement(B,null):r.a.createElement("div",{className:"text-center w-full h-full p-12"},r.a.createElement("img",{alt:"No repos found.",className:"py-12 w-1/2 md:w-1/3 m-auto select-none",src:M.a}),r.a.createElement("div",{className:"text-lg select-none mb-6"},"Word not found."));var $=I.traditional?"simplified":"traditional",G=1===b(I.pinyin.map((function(e){return e.toLowerCase()}))).length,Z=0,Q=g(I.word);return Z=Q<3?6:Q<6?4:Q<9?3:2,r.a.createElement("div",{className:"w-full"},r.a.createElement(H.a,{color:"#f11946",progress:c,onLoaderFinished:function(){return i(0)}}),r.a.createElement("div",{className:"w-full text-center pt-16"},r.a.createElement("div",{className:"chinese-serif w-3/4 mx-auto flex justify-center flex-wrap pb-8"},1===g(I.word)?r.a.createElement(L,{character:I.word,pinyin:G?p(I.pinyin[0]):"",characterSize:"".concat(Z,"rem"),pinyinSize:"".concat(Z/3,"rem"),className:"px-1"}):I.characters&&I.characters.map((function(e,t){return r.a.createElement(L,{character:e.word,pinyin:G?p(I.pinyin[0].split(" ")[t]):"",characterSize:"".concat(Z,"rem"),pinyinSize:"".concat(Z/3,"rem"),className:"px-1",key:t})}))),r.a.createElement("div",{className:"mx-auto pb-2",style:{width:"max-content"}},r.a.createElement("div",{className:"border-b ".concat(k," english-serif ").concat(y)},"simplified"===$?"Traditional":"Simplified"),"simplified"===$&&b(I.traditional).map((function(t,a){return r.a.createElement(l.b,{to:"/word/".concat(t,"/?mode=").concat(e),className:"".concat(x," \n\t\t\t\t\t\t\t\t\t\t\t}"),key:a},r.a.createElement("div",{className:"inline px-2 text-2xl chinese-serif",key:a},t))})),"traditional"===$&&b(I.simplified).map((function(t,a){return r.a.createElement(l.b,{to:"/word/".concat(t,"/?mode=").concat(e),className:"".concat(x," \n\t\t\t\t\t\t\t\t\t\t\t}"),key:a},r.a.createElement("div",{className:"inline px-2 text-2xl chinese-serif",key:a},t))})))),r.a.createElement("div",{className:"w-full md:w-3/4 flex flex-wrap english-serif mx-auto mb-12 bg-white border-2 dark:bg-gray-800 ".concat(N)},r.a.createElement("div",{className:"w-full md:w-2/3 border-r-2 ".concat(k)},r.a.createElement("div",{className:"p-6 border-b-2 ".concat(k)},r.a.createElement("div",{className:K},I.definition.length>1?"Definitions":"Definition"),I.definition.map((function(e,t){return r.a.createElement("div",{className:"py-1 leading-5",key:t},r.a.createElement("div",{className:"inline font-bold"},t+1,"."," "),r.a.createElement("div",{className:"inline font-semibold"},"(",p(I.pinyin[t]),")"," "),e.replace(/\//g,"; "))}))),r.a.createElement("div",{className:"p-6 border-b-2 ".concat(k)},r.a.createElement("div",{className:K},g(I.word)>1?"Characters":"Components"),g(I.word)>1?I.characters.map((function(e,t){return r.a.createElement(l.b,{to:"/word/".concat(e.word,"/?mode=").concat(f),className:"".concat(x," ").concat(!e.definition&&"disabled-link"),key:t},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"chinese-serif text-4xl pr-4 py-4"},e.word),r.a.createElement("div",null,r.a.createElement("div",{className:"text-xl font-semibold"},e.pinyin&&p(b(e.pinyin.map((function(e){return e.toLowerCase()}))).sort().join(" / "))),r.a.createElement("div",{className:"".concat(y," leading-5 break-all")},e.definition&&e.definition.join(" | ")))))})):"decomposition_definitions"in I.components&&I.components.decomposition_definitions.map((function(e,t){return P.includes(e.word)?"":r.a.createElement(l.b,{to:"/word/".concat(e.word,"/?mode=").concat(f),className:"".concat(x," ").concat(!e.definition&&"disabled-link"),key:t},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"chinese-serif text-4xl pr-4 py-4"},e.word),r.a.createElement("div",null,r.a.createElement("div",{className:"text-xl font-semibold"},e.pinyin&&p(b(e.pinyin.map((function(e){return e.toLowerCase()}))).sort().join(" / "))),r.a.createElement("div",{className:"".concat(y," leading-5 break-all")},e.definition&&e.definition.join(" | ")))))}))),r.a.createElement("div",{className:"p-6"},r.a.createElement("div",{className:K},"Example sentences"),0===I.sentences.length&&"No example sentences found.",I.sentences.map((function(e,t){var a=function(e,t,a){var n=e.split(t),r=n.splice(0,a);return r.push(n.join(t)),r}(e.chinese,j,1),n=Object(s.a)(a,2),c=n[0],i=n[1];return r.a.createElement("div",{className:"py-3",key:t},r.a.createElement("div",{className:"chinese-serif text-xl"},c,r.a.createElement("div",{className:"red inline"},j),i),r.a.createElement("div",{className:"text-gray-700 dark:text-gray-500"},e.english))})))),r.a.createElement("div",{className:"w-full md:w-1/3"},r.a.createElement("div",{className:"p-6 border-b-2 ".concat(k)},r.a.createElement("div",{className:K},"Statistics"),-1!==I.rank?r.a.createElement("div",null,r.a.createElement("div",{className:"font-bold inline"},I.rank,r.a.createElement("sup",null,function(e){var t=e%10,a=e%100;return 1===t&&11!==a?"st":2===t&&12!==a?"nd":3===t&&13!==a?"rd":"th"}(I.rank)))," ","most frequent word"):r.a.createElement("div",null,"Word rank unavailable."),-1!==I.fraction?r.a.createElement("div",null,r.a.createElement("div",{className:"font-bold inline"},(100*I.fraction).toPrecision(2),"%")," ","of all words"):r.a.createElement("div",null,"Word fraction unavailable.")),r.a.createElement("div",{className:"p-6 border-b-2 ".concat(k)},r.a.createElement("div",{className:K},"Containing words"),0===I.containing_words.length&&"No containing words found.",I.containing_words.map((function(e,t){var a=e.pinyin[0].split(" "),n=e.word.split("").map((function(e,t){return r.a.createElement(L,{character:e,pinyin:p(a[t]),characterSize:"1.5rem",pinyinSize:"0.75rem",key:t})}));return r.a.createElement("div",{className:"pt-2",key:t},r.a.createElement(l.b,{to:"/word/".concat(e.word,"/?mode=").concat(f),className:x},r.a.createElement("div",{className:"chinese-serif text-xl flex flex-wrap"},n),r.a.createElement("div",{className:"".concat(y,"  break-all leading-5")},e.definition.length>64?e.definition.substring(0,64)+"...":e.definition)))}))),r.a.createElement("div",{className:"p-6"},r.a.createElement("div",{className:K},"See also"),0===I.related.length&&"No related words found.",I.related.map((function(e,t){var a=e.pinyin[0].split(" "),n=e.word.split("").map((function(e,t){return r.a.createElement(L,{character:e,pinyin:p(a[t]),characterSize:"1.5rem",pinyinSize:"0.75rem",key:t})}));return r.a.createElement("div",{className:"pt-2",key:t},r.a.createElement(l.b,{to:"/word/".concat(e.word,"/?mode=").concat(f),className:x},r.a.createElement("div",{className:"chinese-serif text-xl flex flex-wrap"},n),r.a.createElement("div",{className:"".concat(y,"  break-all leading-5")},e.definition.length>64?e.definition.substring(0,64)+"...":e.definition)))}))))))};function J(){var e=Object(o.g)(),t=e.pathname,a=e.search;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[t,a]),null}a(50);var R=Object(n.createContext)(null),F=function(e){var t=e.children,a=Object(n.useState)({width:window.innerWidth,height:window.innerHeight}),c=Object(s.a)(a,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){var e=function(){l({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),r.a.createElement(R.Provider,{value:i},t)};var K=function(){return r.a.createElement(l.a,{basename:"/"},r.a.createElement(J,null),r.a.createElement(F,null,r.a.createElement(E,null,r.a.createElement(o.a,{render:function(e){var t=e.location;return!["/"].includes(t.pathname)&&r.a.createElement(O,null)}}),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(_,null)),r.a.createElement(o.a,{path:"/word/:word"},r.a.createElement(q,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(z,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.343f4204.chunk.js.map